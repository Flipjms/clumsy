$(function(){if($(".delete").click(function(){$(this).closest("form").next(".delete-form").submit()}),$(".delete-form").submit(function(){return confirm($(this).hasClass("user")?handover.admin.strings.delete_confirm_user:handover.admin.strings.delete_confirm)}),$(".rich-text").length&&tinymce.init($.extend({selector:".rich-text",content_css:handover.admin.urls.base+"/../packages/clumsy/cms/css/tinymce.css",menubar:!1,toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright | bullist numlist | removeformat",statusbar:!1,plugins:"autoresize"},"undefined"==typeof handover.admin.tinymce?{}:handover.admin.tinymce)),$(".panel-translatable").length&&$(".panel-translatable .has-error").length&&$(".tab-pane").each(function(a,b){if($(".has-error",b).length){var c=$(b).attr("id");return $('a[href="#'+c+'"], a[data-target="'+c+'"]').tab("show"),!1}}),$(".datepicker").length&&$(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),$(".datetimepicker").length&&$(".datetimepicker").datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss"}),$(".timepicker").length&&$(".timepicker").timepicker({timeFormat:"HH:mm:ss"}),$(".colorpicker").length&&($(".colorpicker").iris($.extend({hide:!0},"undefined"==typeof handover.admin.colorpicker?{}:handover.admin.colorpicker)),$(document).on("click",function(a){if("form-control colorpicker"==$(a.target).attr("class"))$(a.target).iris("show");else{var b=$(".iris-picker, .iris-picker-inner");("undefined"==typeof a||!b.is(a.target)&&0===b.has(a.target).length)&&$(".colorpicker").iris("hide")}})),$("#map").length){var a,b=null,c=function(c,d){null===b?null!==c&&null!==d&&(b=new google.maps.Marker({map:a,draggable:!1,position:new google.maps.LatLng(parseFloat(c),parseFloat(d))}),a.setZoom(16),a.panTo(b.position)):(b.setPosition(new google.maps.LatLng(c,d)),a.panTo(b.position))},d=function(){var b={center:{lat:38.709792,lng:-9.133609},zoom:14};a=new google.maps.Map(document.getElementById("map"),b),"undefined"!=typeof handover.coordinates&&c(handover.coordinates.lat,handover.coordinates.lng),google.maps.event.addListener(a,"rightclick",function(a){var b=a.latLng.lat(),d=a.latLng.lng();c(b,d),$("#lat").val(b),$("#lng").val(d)})};google.maps.event.addDomListener(window,"load",d)}if($booleans=$(".active-boolean"),$booleans.length&&($booleans.click(function(a){a.stopPropagation(),$.post(handover.admin.urls.update,{_token:$('input[name="_token"]').val(),model:handover.admin.model,id:$(this).data("id"),column:$(this).data("column"),column_type:"boolean",value:$(this).prop("checked")})}),$booleans.closest("td").click(function(){$(this).find(".active-boolean").click()})),$(".filter-box").length){var e={width:"100%",max_selected_options:5,no_results_text:"Nenhum resultado com "};$(".filter-box select").chosen(e),$(".filter-box select").chosen().change(function(a,b){$("#filter-submit-btn").removeAttr("disabled"),"undefined"!=typeof b.selected?($("form#filter-form").append('<input name="'+$(this).data("name")+'[]" value="'+b.selected+'">'),$(this).parents(".filter-box").find("button").removeAttr("disabled")):($('input[value="'+b.deselected+'"]').remove(),0===$('input[name="'+$(this).data("name")+'[]"]').length&&$(this).parents(".filter-box").find("button").attr("disabled",""))}),$("#header-filter-btn").on("click",function(){$(".filter-panel").fadeIn()}),$("i.filter").on("click",function(){$(this).siblings(".filter-box").show()}),$(".filter-box i").on("click",function(){$(this).parent().hide()}),$("#filter-submit-btn").on("click",function(){$("form#filter-form").submit()}),$("#filter-clear-btn").on("click",function(){$("#filter-submit-btn").removeAttr("disabled"),$('form#filter-form input:not([name="_token"])').remove(),$(".filter-box select").val("").trigger("chosen:updated")})}});