!function e(t,n,i){function o(a,l){if(!n[a]){if(!t[a]){var d="function"==typeof require&&require;if(!l&&d)return d(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){"use strict";$(function(){var e=function(e){e.add(e.siblings(":button, :submit")).prop("disabled",!0),e.addClass("loading")};$(".click-once").click(function(){e($(this))}),$("form").submit(function(){var t=$(":submit",this);t.hasClass("submit-once")&&e(t)}),$(".delete").click(function(){$(this).closest("form").next(".delete-form").submit()}),$(".delete-form").submit(function(){var t=$(this).prev("form"),n=$(".delete",t),i=n.data("confirmText");return!!confirm(i)&&(e(n),!0)});var t=$(".pivot-field");t.length&&t.chosen({width:"100%"}),$(".with-tooltip").tooltip(),$(".navbar").on("show.bs.dropdown",function(e){var t=$(e.target);t.hasClass("with-tooltip")&&(t.tooltip("destroy"),t.one("hide.bs.dropdown",function(){t.tooltip()}))}),$(".rich-text").length&&tinymce.init($.extend({selector:".rich-text",content_css:handover.admin.urls.base+"/../vendor/clumsy/cms/css/tinymce.css",menubar:!1,toolbar:"undo redo | bold italic | alignleft aligncenter alignright | bullist numlist | link | removeformat",statusbar:!1,plugins:"autoresize,link"},"undefined"==typeof handover.admin.tinymce?{}:handover.admin.tinymce)),$(".panel-translatable").length&&$(".panel-translatable .has-error").length&&$(".tab-pane").each(function(e,t){if($(".has-error",t).length){var n=$(t).attr("id");return $('a[href="#'+n+'"], a[data-target="'+n+'"]').tab("show"),!1}}),$(".datepicker").length&&$(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),$(".datetimepicker").length&&$(".datetimepicker").datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss"}),$(".timepicker").length&&$(".timepicker").timepicker({timeFormat:"HH:mm:ss"}),$(".colorpicker").length&&($(".colorpicker").iris($.extend({hide:!0},"undefined"==typeof handover.admin.colorpicker?{}:handover.admin.colorpicker)),$(document).on("click",function(e){if("form-control colorpicker"==$(e.target).attr("class"))$(e.target).iris("show");else{var t=$(".iris-picker, .iris-picker-inner");("undefined"==typeof e||!t.is(e.target)&&0===t.has(e.target).length)&&$(".colorpicker").iris("hide")}})),$(".location").length&&$(".location").each(function(){var e,t=$(".coordinates",this),n=null,i=new google.maps.Geocoder,o=t.find("input").eq(0),r=t.find("input").eq(1),a=$(".geocoder-btn",this).closest(".form-group").find("input"),l=function(t,i){null===n?(n=new google.maps.Marker({map:e,draggable:!0,position:t}),e.panTo(n.position),google.maps.event.addListener(n,"dragend",function(){s(n.getPosition(),!0)})):(n.setPosition(t),e.panTo(n.position)),s(t,i)},d=function(e){l(e.latLng)},s=function(e,t){t&&i.geocode({location:e},function(e,t){t==google.maps.GeocoderStatus.OK&&e[0]&&a.val(e[0].formatted_address)}),o.val(e.lat()),r.val(e.lng())},c=function(e){""!==String(e).trim()&&i.geocode({address:e},function(e,t){t==google.maps.GeocoderStatus.OK&&l(e[0].geometry.location,!1)})},f=function(){var n=$.extend({scrollwheel:!1,center:{lat:38.709792,lng:-9.133609},zoom:14},"undefined"==typeof handover.admin.mapOptions?{}:handover.admin.mapOptions);e=new google.maps.Map(t.find(".map")[0],n);var i=o.val(),s=r.val();if(""!==i&&""!==s){var c=new google.maps.LatLng(parseFloat(i),parseFloat(s));l(c,"undefined"==typeof a.attr("name")),e.setZoom(16)}google.maps.event.addListener(e,"rightclick",d)};google.maps.event.addDomListener(window,"load",f),$(".drop-pin",this).click(function(){l(e.getCenter(),!0)}),$(".geocoder-btn",this).click(function(){c(a.val())})});var n=$(".editable-inline");if(n.length&&(n.click(function(e){e.stopPropagation();var t={};t._method="PUT",t._token=$('input[name="_token"]').val(),t[$(this).data("column")]=$(this).is(":checkbox")?$(this).prop("checked")?1:0:$(this).val(),$.post($(this).closest("[data-update-url]").data("update-url").replace(":id",$(this).data("id")),t)}),n.closest("td").click(function(){$(this).find(".editable-inline").click()})),$(".filter-box").length){var i=$(".filter-box select"),o={width:"100%",no_results_text:i.first().data("no-results-text")};i.chosen(o).change(function(e,t){return $("#filter-submit-btn").prop("disabled",!1),"undefined"!=typeof t.selected?($("#filter-form").append('<input type="hidden" name="'+$(this).data("name")+'[]" value="'+t.selected+'">'),$(this).parents(".filter-box").find("button").prop("disabled",!1),!0):($('input[value="'+t.deselected+'"]').remove(),void(0===$('input[name="'+$(this).data("name")+'[]"]').length&&$(this).parents(".filter-box").find("button").prop("disabled",!0)))}),$("#filter-submit-btn").click(function(){$("#filter-form").submit()}),$("#filter-clear-btn").click(function(){$('#filter-form input:not([name="_token"],.filter-nested)').remove(),$("#filter-form").submit()})}if($('a[role="tab"]').on("shown.bs.tab",function(e){var t=$(e.target).attr("href").substring(1),n=$("div.tab-pane#"+t);n.find(".photoset-row").attr("style","overflow: hidden;")}),$(".reorder-table").length){var r=$(".reorder-table tbody").sortable({helper:"clone",scroll:!1,axis:"y",placeholder:"sortable-placeholder"}).disableSelection();r.on("sortupdate",function(e,t){$(".reorder-table tbody > tr td:first-child").fadeOut().promise().done(function(){$(".reorder-table tbody > tr").each(function(e){$(this).find(" > td:first").text(e+1)}).promise().done(function(){$(".reorder-table tbody > tr td:first-child").fadeIn()})})})}})},{}]},{},[1]);
//# sourceMappingURL=admin.js.map
